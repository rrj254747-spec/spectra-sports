{% extends "layout.html" %}
{% block content %}

<div class="card login-card">

    <h2 class="login-title">Login</h2>

    <form method="POST" onsubmit="return validateLogin()">

        <label>Email</label>
        <input type="email" id="email" name="email" placeholder="Enter your email" required>

        <label>Password</label>
        <div class="password-wrapper">
            <input type="password" id="password" name="password" placeholder="Enter your password" required minlength="6">
            <span onclick="togglePassword()" class="eye-toggle">üëÅ</span>
        </div>

        <button type="submit" class="btn-login">
            Login
        </button>

    </form>

    <p class="signup-text">
        Don't have an account? <a href="/signup">Sign Up</a>
    </p>

</div>

<style>
.login-card {
    max-width: 420px;
    margin: 60px auto;
    animation: fadeIn 0.4s ease;
}

.login-title {
    text-align: center;
    margin-bottom: 25px;
}

.password-wrapper {
    position: relative;
}

.eye-toggle {
    position: absolute;
    right: 12px;
    top: 12px;
    cursor: pointer;
    font-size: 14px;
}

.btn-login {
    width: 100%;
    margin-top: 15px;
}

.signup-text {
    text-align: center;
    margin-top: 20px;
}
</style>

<script>
function validateLogin() {

    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value.trim();

    if (!email) {
        alert("Email is required");
        return false;
    }

    if (!email.includes("@") || !email.includes(".")) {
        alert("Enter a valid email address");
        return false;
    }

    if (!password) {
        alert("Password is required");
        return false;
    }

    if (password.length < 6) {
        alert("Password must be at least 6 characters");
        return false;
    }

    return true;
}

function togglePassword() {
    const pwd = document.getElementById("password");
    pwd.type = pwd.type === "password" ? "text" : "password";
}
</script>

{% endblock %}