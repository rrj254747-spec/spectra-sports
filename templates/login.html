{% extends "layout.html" %}
{% block content %}

<div class="card" style="max-width:400px;margin:60px auto;">

<h2 style="text-align:center;">Login</h2>

<form method="POST" onsubmit="return validateLogin()">

    <label>Email</label>
    <input type="email" id="email" name="email" required>

    <label>Password</label>
    <div style="position:relative;">
        <input type="password" id="password" name="password" required minlength="6">
        <span onclick="togglePassword()" 
              style="position:absolute;right:10px;top:10px;cursor:pointer;font-size:14px;">
              üëÅ
        </span>
    </div>

    <button type="submit" class="btn" style="width:100%;margin-top:15px;">
        Login
    </button>

</form>

<p style="text-align:center;margin-top:15px;">
    Don't have account? <a href="/signup">Sign Up</a>
</p>

</div>

<script>

function validateLogin() {

    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value.trim();

    if (!email) {
        alert("Email is required");
        return false;
    }

    if (!email.includes("@") || !email.includes(".")) {
        alert("Enter valid email address");
        return false;
    }

    if (!password) {
        alert("Password is required");
        return false;
    }

    if (password.length < 6) {
        alert("Password must be at least 6 characters");
        return false;
    }

    return true;
}

function togglePassword() {
    const pwd = document.getElementById("password");
    if (pwd.type === "password") {
        pwd.type = "text";
    } else {
        pwd.type = "password";
    }
}

</script>

{% endblock %}